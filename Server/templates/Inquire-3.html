{% extends "navbar.html" %}

{% block title %} - 查詢/取消預約掛號{% endblock %}


{% block head %}
<style>

.id_content01 {
    height: 700px;
}
.id_header01 {
    height: 200px;
}
.p1 {
	font-family: DFKai-sb;
	color: #000000;
	font-size: 48px;
	text-align: center;
}
.p2 {
	font-family: DFKai-sb;
	color: #000000;
	font-size: 30px;
	text-align: center;
}
.p4 {
	font-family: DFKai-sb;
	color: #000000;
	font-size: 25px;
	text-align: center;
}
</style>

{% endblock %}

{% block body %}
<div class="container">
    {% for message in get_flashed_messages() %}
    <br>
    <div class="alert alert-warning alert-dismissible fade show">
      <button type="button" class="close" data-dismiss="alert">&times;</button>
      {{ message }}
    </div>
    {% endfor %}
</div>

<div id="id_wrapper">
	
	<div style="background: url(../static/pexels-la-miko-3616764.jpg)no-repeat; background-size:3500px 2200px;">

		<div id="id_header" class="id_header01" style="text-align:center;">
			<br>
			<p class="p1">查詢/取消預約掛號</p>
			<HR>
		</div> 
				
		<div id="id_content" class="id_content01" style = "text-align:center;">
			<form method="post" action="https://140.134.26.17:3333/check" enctype="multipart/form-data">
			
				<p class="p2">身分證ID:</p>
				<p class="p2">姓名:</text></p>
				<p class="p2">日期:</text></p>
				<p class="p2">科別:</text></p>
				<p class="p2">醫生:</text></p>
				<p class="p2">掛號號碼:</text></p>
				
				
				<input type="submit" class="p2" name = 'return' value="上一頁">
				<input type="submit" class="p2" name = "cancel" value="取消掛號" onclick="return confirm('確定要取消掛號嗎?')">
			
				<class id = "NoReservation">
				<div style = "text-align:center;">
					<p class="p2">您並沒有預約掛號</text></p>
					<p><input type="submit" class="p2" name="return" value="返回首頁"></p>    
				</div>
				</class>	
			</form>
		</div>
	
	</div>
</div>

<script>
    var patientData = JSON.parse('{{patientData | tojson | safe}}');
    console.log("patientData " + patientData)
    if (patientData !== null)
    {
        console.log(patientData[0])
        document.getElementsByClassName("patientData").disabled = false;
        document.getElementsByClassName("NoReservation").disabled = true;

        var patientId = document.getElementById("patientId");
        patientId.textContent = "身分證ID: " + patientData[0];
        
        var patientName = document.getElementById("patientName");
        patientName.textContent = "姓名: " + patientData[1]
        
        var date = document.getElementById("date");
        date.textContent = "日期: " +  patientData[2]
        
        var department = document.getElementById("department");
        department.textContent = "科別: " +  patientData[3]
        
        var doctor = document.getElementById("doctor");
        doctor.textContent = "醫生: " +  patientData[4]
        
        var number = document.getElementById("number");
        number.textContent = "掛號號碼: " +  patientData[5]
    }
    else 
    {
        document.getElementsByClassName("NoReservation").disabled = false;
        document.getElementsByClassName("patientData").disabled = true;
    }
</script>
{% endblock %}